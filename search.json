[
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Close the Loop",
    "section": "",
    "text": "Preface\nEl proyecto busca desarrollar un modelo de machine learning para analizar y clasificar automáticamente las respuestas de las encuestas de NPS (Net Promoter Score) en Tigo Guatemala. El objetivo es utilizar estos insights para guiar decisiones estratégicas en áreas como inversión en infraestructura, optimización de red y mejora de la calidad del servicio. Al hacerlo, la empresa espera mejorar la percepción del cliente, medida a través del NPS, y en última instancia, aumentar la lealtad del cliente y el retorno de inversión (ROI)."
  },
  {
    "objectID": "intro.html",
    "href": "intro.html",
    "title": "1  Introduction",
    "section": "",
    "text": "En Tigo, medimos el Quality of Service (QoS) utilizando encuestas de Net Promoter Score (NPS) de tipo transaccional, las cuales evalúan la experiencia reciente del usuario con la calidad de nuestra red. Un día después de recibir las respuestas, un equipo de analistas, el Close The Loop, agrega un diagnóstico basado en métricas de red para representar la posible causa del Poor User Experience para cada cliente encuestado. Las posibles causas están categorizadas en: Capacidad, Cobertura, Optimización, Transmisión, Disponibilidad y No detractor.\nSe tiene un NPS Transaccional de red móvil que está impactando en el revenue y aumenta la taza de abandono de los clientes. Actualmente existe un equipo llamado CTL que analiza las encuestas y los KPIs de red con el fin de realizar una clasificación manual de los diagnósticos de los usuarios detractores de red. Posteriormente, se realizan acciones correctivas."
  },
  {
    "objectID": "data-adquisition.html",
    "href": "data-adquisition.html",
    "title": "Data adquisition",
    "section": "",
    "text": "La adquisición de datos, o Data Acquisition, es el proceso inicial y crítico en cualquier proyecto de machine learning o análisis de datos que implica recopilar, cargar y preparar datos para su posterior análisis. Esta fase es crucial porque los datos que se recojan determinarán la calidad del análisis y las conclusiones que se podrán obtener. Este proceso puede implicar múltiples etapas, desde la identificación de las fuentes de datos relevantes, pasando por la recopilación y el almacenamiento de los datos, hasta su importación al entorno de desarrollo para el análisis posterior."
  },
  {
    "objectID": "data-collection.html#diagnóstico",
    "href": "data-collection.html#diagnóstico",
    "title": "2  Data collection",
    "section": "2.1 Diagnóstico",
    "text": "2.1 Diagnóstico\nLa tabla maestra diagnóstico contiene…"
  },
  {
    "objectID": "data-collection.html#métricas",
    "href": "data-collection.html#métricas",
    "title": "2  Data collection",
    "section": "2.2 Métricas",
    "text": "2.2 Métricas\nLa tabla de métricas se caracteriza por …"
  },
  {
    "objectID": "data-collection.html#disponibilidad",
    "href": "data-collection.html#disponibilidad",
    "title": "2  Data collection",
    "section": "2.3 Disponibilidad",
    "text": "2.3 Disponibilidad\nCon esta disponibilidad lo que tenemos es principalmente…"
  },
  {
    "objectID": "data-import.html",
    "href": "data-import.html",
    "title": "3  Data import",
    "section": "",
    "text": "Una vez recolectados los datos de diversas fuentes, el siguiente paso crucial fue importarlos al entorno de trabajo donde se desarrolló el modelo analítico. Para este propósito, se utilizó el lenguaje de programación R, aprovechando su robusto ecosistema de bibliotecas y herramientas para el manejo de datos. En particular, se empleó la biblioteca purrr para iterar sobre los conjuntos de datos y cargarlos eficientemente en la memoria.\nSe almacenaron tres tablas principales en el entorno de R: “diagnóstico”, “métricas” y “disponibilidad”, que se asignaron a los objetos diag_00, metr_00 y disp_00, respectivamente. La importación de estos conjuntos de datos se realizó en un solo ciclo utilizando la función purrr::map(), lo que permitió una carga más rápida y eficiente de los datos en el entorno de trabajo. Este enfoque no solo optimizó el tiempo de carga, sino que también facilitó la posterior manipulación y análisis de los datos.\nEste método de importación de datos aseguró que todas las tablas estuvieran disponibles para el análisis subsiguiente, permitiendo una transición fluida hacia las etapas de limpieza de datos y modelado.\n\narchivos &lt;- dir_ls(type = \"file\", path = \"data\", glob = \"*.csv\")\n\n\nc(diag_00, disp_00, metr_00) %&lt;-% (archivos |&gt; map(read_csv))\n\n\ndiag_00 |&gt; glimpse(width = 70)\n#&gt; Rows: 72,644\n#&gt; Columns: 38\n#&gt; $ fct_srvy_dt         &lt;dbl&gt; 20220103, 20221026, 20221119, 20230614, …\n#&gt; $ bs_ln_cd            &lt;chr&gt; \"PRE\", \"HYB\", \"PRE\", \"PRE\", \"PRE\", \"HYB\"…\n#&gt; $ bs_ln_nm            &lt;chr&gt; \"PREPAID\", \"POSTPAID HYBRID\", \"PREPAID\",…\n#&gt; $ msisdn_dd           &lt;dbl&gt; 51684654, 50431166, 45707712, 37266836, …\n#&gt; $ srvy_id             &lt;dbl&gt; 539124531, 685399274, 698188789, 8119437…\n#&gt; $ nps_mdll            &lt;dbl&gt; 8, 10, 0, 10, 10, 10, 9, 5, 9, 9, 10, 10…\n#&gt; $ class_1             &lt;chr&gt; NA, NA, \"RENDIMIENTO\", NA, NA, NA, NA, \"…\n#&gt; $ class_2             &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …\n#&gt; $ class_3             &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …\n#&gt; $ users_class         &lt;dbl&gt; 0, 1, -1, 1, 1, 1, 1, -1, 1, 1, 1, 1, 1,…\n#&gt; $ macro_desc          &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …\n#&gt; $ class_desc          &lt;chr&gt; \"NEUTRO\", \"PROMOTOR\", \"DETRACTOR\", \"PROM…\n#&gt; $ bts_sh_nm_1         &lt;chr&gt; \"NBVP009C\", \"LGUA661B\", \"WGUA356A\", \"LSC…\n#&gt; $ trrtry_tf_nm        &lt;chr&gt; \"NOR-ORIENTE\", \"CENTRAL\", \"CENTRAL\", \"SU…\n#&gt; $ trrtry_cmrcl_nm     &lt;chr&gt; \"OCCIDENTE\", \"CENTRAL\", \"CENTRAL\", \"OCCI…\n#&gt; $ stt_nm              &lt;chr&gt; \"BAJA VERAPAZ\", \"GUATEMALA\", \"GUATEMALA\"…\n#&gt; $ cty_nm              &lt;chr&gt; \"CUBULCO\", \"AMATITLAN\", \"SAN JOSE PINULA…\n#&gt; $ segmento            &lt;chr&gt; \"TBD\", \"TBD\", \"TBD\", \"TBD\", \"TBD\", \"TBD\"…\n#&gt; $ tipo_cobertura      &lt;chr&gt; \"TBD\", \"TBD\", \"TBD\", \"TBD\", \"TBD\", \"TBD\"…\n#&gt; $ time_lte            &lt;dbl&gt; 0.9904817, 0.9884153, 0.0000000, 0.93261…\n#&gt; $ time_3g             &lt;dbl&gt; 0.004485764, 0.011045974, 0.987307939, 0…\n#&gt; $ cell_load_lte       &lt;dbl&gt; NA, 0.9655166, NA, 1.0000000, 0.2432869,…\n#&gt; $ cell_load_3g        &lt;dbl&gt; 1.00000000, 1.00000000, 1.00000000, 0.82…\n#&gt; $ thp_required_lte    &lt;dbl&gt; NA, 1.0000000, NA, 1.0000000, 0.3492566,…\n#&gt; $ thp_required_3g     &lt;dbl&gt; 1.00000000, 0.97479047, 0.99950695, 0.48…\n#&gt; $ prfrmnc             &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0…\n#&gt; $ fct_dt              &lt;dbl&gt; 20230820, 20230820, 20230820, 20230820, …\n#&gt; $ fct_dt_ctl          &lt;date&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,…\n#&gt; $ msisdn_dd_ctl       &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …\n#&gt; $ srvy_id_ctl         &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …\n#&gt; $ cmmnt_clnt_1        &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …\n#&gt; $ cmmnt_clnt_2        &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …\n#&gt; $ diag                &lt;chr&gt; \"no_diag\", \"no_diag\", \"no_diag\", \"no_dia…\n#&gt; $ diag_dtl            &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …\n#&gt; $ cmmnt_anlyst        &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …\n#&gt; $ cmnt_anlyst_on_clnt &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …\n#&gt; $ month               &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …\n#&gt; $ rk                  &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …\n\n\nmetr_00 |&gt; glimpse(width = 70)\n#&gt; Rows: 273,434\n#&gt; Columns: 27\n#&gt; $ fct_srvy_dt            &lt;dbl&gt; 20220103, 20220105, 20220105, 2022010…\n#&gt; $ msisdn_dd              &lt;dbl&gt; 48752970, 46176730, 30484168, 4509420…\n#&gt; $ srvy_id                &lt;dbl&gt; 542177126, 543198907, 543386621, 5439…\n#&gt; $ r1                     &lt;dbl&gt; 1, 4, 3, 2, 1, 4, 2, 3, 2, 5, 5, 1, 3…\n#&gt; $ cll_prctg              &lt;dbl&gt; 0.824634392, 0.034284450, 0.151509464…\n#&gt; $ bts_sh_nm              &lt;chr&gt; \"LSMR065B\", \"5PTN071B\", \"KPTN639A\", \"…\n#&gt; $ rate_prb_dl            &lt;dbl&gt; 0.95210, 0.09452, 0.97424, 0.92788, 0…\n#&gt; $ cell_load              &lt;dbl&gt; 2.20687884, 0.10004342, 3.26123202, 0…\n#&gt; $ rrc_success_rate       &lt;dbl&gt; 0.9780692, 0.9967742, 0.9980931, 0.99…\n#&gt; $ erab_success_rate      &lt;dbl&gt; 0.9838215, 0.9984152, 0.9974223, 0.99…\n#&gt; $ service_drop_rate      &lt;dbl&gt; 0.008424494, 0.001610306, 0.001427862…\n#&gt; $ l_ul_interference_avg  &lt;dbl&gt; -114, -118, -119, -117, -117, -114, -…\n#&gt; $ thoughput_dl           &lt;dbl&gt; 806.6095, 12050.7719, 729.3367, 3163.…\n#&gt; $ thpughput_ul           &lt;dbl&gt; 157.78615, 52.38569, 184.64894, 1076.…\n#&gt; $ corrected_cqi          &lt;dbl&gt; 7, 9, 11, 10, 11, 9, 10, 0, 0, 11, 8,…\n#&gt; $ ra_ta_ue_index1        &lt;dbl&gt; 0.03724291, 0.14681440, 0.00000000, 0…\n#&gt; $ ra_ta_ue_index2        &lt;dbl&gt; 0.011535689, 0.101391650, 0.000000000…\n#&gt; $ ra_ta_ue_index3        &lt;dbl&gt; 0.057750188, 0.230932203, 0.000000000…\n#&gt; $ ra_ta_ue_index4        &lt;dbl&gt; 0.239936042, 0.414285714, 0.000093600…\n#&gt; $ ra_ta_ue_index5        &lt;dbl&gt; 0.296958855, 0.010638298, 0.081905479…\n#&gt; $ ra_ta_ue_index6        &lt;dbl&gt; 0.192351896, 0.019656020, 0.642143143…\n#&gt; $ ra_ta_ue_index7        &lt;dbl&gt; 0.129028815, 0.001472754, 0.276889244…\n#&gt; $ ra_ta_ue_total         &lt;dbl&gt; 9709, 470, 10736, 6225, 8972, 4737, 1…\n#&gt; $ volte_erlang           &lt;dbl&gt; 4.546555556, 0.006083333, 1.796555556…\n#&gt; $ modulation_64qam_ratio &lt;dbl&gt; 0.21873159, 0.46142123, 0.63927274, 0…\n#&gt; $ modulation_16qam_ratio &lt;dbl&gt; 0.32449740, 0.40558635, 0.26136434, 0…\n#&gt; $ modulation_qpsk_ratio  &lt;dbl&gt; 0.461401863, 0.107595772, 0.099906462…\n\n\ndisp_00 |&gt; glimpse(width = 70)\n#&gt; Rows: 72,426\n#&gt; Columns: 8\n#&gt; $ msisdn_dd             &lt;dbl&gt; 52079871, 59075914, 53184894, 40893852…\n#&gt; $ srvy_id               &lt;dbl&gt; 666820295, 636635685, 708482502, 54633…\n#&gt; $ time_cl               &lt;dbl&gt; 0.9567349, 0.9954649, 0.9949580, 0.481…\n#&gt; $ time_lte              &lt;dbl&gt; 0.9584363, 0.9730749, 0.9537411, 0.982…\n#&gt; $ time_thrgpt           &lt;dbl&gt; 0.8172875458, 0.6161637281, 0.63594658…\n#&gt; $ avlblty               &lt;dbl&gt; 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,…\n#&gt; $ avlblty_tckt_2hrs     &lt;dbl&gt; 0.00000000, 0.00000000, 0.00000000, 0.…\n#&gt; $ unvlblty_ttl_hrs_prop &lt;dbl&gt; 1.305747e+01, 1.427198e+01, 4.607728e+…"
  },
  {
    "objectID": "data-dictionary.html",
    "href": "data-dictionary.html",
    "title": "4  Data dictionary",
    "section": "",
    "text": "Table 4.1 muestra la primera parte del diccionario con los atributos del dataset que son generales\n\n\n\n\nTable 4.1: Features generales.\n\n\n\n\n\n\n\n\nfeature\ntipo_dato\ndescripcion\ntabla\n\n\n\n\ncll_prctg\ndouble\nPorcentaje de tiempo que estuvo conectado a la celda.\nMétricas\n\n\nfct_srvy_dt\ndate\nDía en que fue llenada la encuesta por el usuario\nDiagnóstico\n\n\nbts_sh_nm\ncharacter\nIdentificador de celda\nMétricas\n\n\nmsisdn_dd\ninteger\nNúmero de teléfono\nDiagnóstico\n\n\nsrvy_id\ninteger\nIdentificador de encuesta\nDiagnóstico\n\n\ncty_nm\ncharacter\nCiudad\nDiagnóstico\n\n\ntrrtry_cmrcl_nm\ncharacter\nRegión comercial\nDiagnóstico\n\n\ntrrtry_tf_nm\ncharacter\nRegión de RF planning\nDiagnóstico\n\n\nstt_nm\ncharacter\nDepartamento al que más se conecta\nDiagnóstico\n\n\ndiag\ncharacter\nVariable respuesta con las categorías a predecir\nDiagnóstico\n\n\n\n\n\n\nLa Table 4.2 muestra las métricas de red que están asociadas a las categorías de diagnóstico.\n\n\n\n\nTable 4.2: Métricas de red.\n\n\n\n\n\n\n\nfeature\ntipo_dato\ndescripcion\n\n\n\n\nrate_prb_dl\ndouble\nPorcentaje de uso de bloques de recursos en el enlace descendente.\n\n\nthroughput_dl\ndouble\nVelocidad de descarga por dispositivo en Mbps.\n\n\nthroughput_ul\ndouble\nVelocidad de subida por dispositivo en Mbps.\n\n\ntime_cl\ndouble\nPorcentaje de tiempo en buen estado de carga de celda.\n\n\nthp_required_lte\ndouble\nPorcentaje de tiempo con throughput requerido en LTE.\n\n\nra_ta_ue_index1\ndouble\nDistancia y conexiones a la estacion base (indice 1).\n\n\nra_ta_ue_index2\ndouble\nConexiones generadas a cierta distancia (Indice 2).\n\n\nra_ta_ue_index3\ndouble\nConexiones generadas a cierta distancia (Indice 3).\n\n\nra_ta_ue_index4\ndouble\nConexiones generadas a cierta distancia (Indice 4).\n\n\nra_ta_ue_index5\ndouble\nConexiones generadas a cierta distancia (Indice 5).\n\n\nra_ta_ue_index6\ndouble\nConexiones generadas a cierta distancia (Indice 6).\n\n\nra_ta_ue_index7\ndouble\nConexiones generadas a cierta distancia (Indice 7).\n\n\nra_ta_ue_total\ndouble\nTotal de conexiones de datos o llamadas.\n\n\ntime_lte\ndouble\nTiempo conectado a LTE.\n\n\navlblty\ndouble\nTiempo de navegacion sin fallas.\n\n\navlblty_tckt_2hrs\ndouble\nTickets de mas de 2 horas sobre total de tickets.\n\n\nunvlbty_ttl_hrs_prop\ndouble\nHoras de indisponibilidad del usuario.\n\n\nerab_success_rate\ndouble\nTasa de exito en la configuracion de E-RAB en LTE.\n\n\nrrc_success_rate\ndouble\nTasa de exito en la conexion RRC en LTE.\n\n\ncorrected_cqi\ndouble\nIndice de calidad de celda.\n\n\nl_ul_interference_avg\ndouble\nInterferencia promedio en el enlace ascendente.\n\n\nvolte_erlang\ndouble\nVolumen de trafico VoLTE en erlangs.\n\n\nmodulation_16qam_ratio\ndouble\nUso de modulacion 16QAM en la transferencia de datos.\n\n\nmodulation_64qam_ratio\ndouble\nUso de modulacion 64QAM en la transferencia de datos.\n\n\nmodulation_qpsk_ratio\ndouble\nUso de modulacion QPSK en la transferencia de datos."
  },
  {
    "objectID": "visualize.html",
    "href": "visualize.html",
    "title": "Visualize",
    "section": "",
    "text": "kdkdkd"
  },
  {
    "objectID": "data-prep.html#pre-selección-de-features",
    "href": "data-prep.html#pre-selección-de-features",
    "title": "5  Data prep",
    "section": "5.1 Pre-selección de features",
    "text": "5.1 Pre-selección de features\n\ncols_to_remove &lt;- c(\n \"tipo_cobertura\",   # 97.7% de los datos dicen TBD y el 2% es NA\n \"cell_load_3g\",     # André indica: \"mejor utilizar `cell_load_lte`\n \"users_class\",      # Ignorar por el momento\n \"fct_dt\",           # Actualización del registro a nivel de data\n \"time_3g\",          # Métrica vieja que ya no se le dio seguimiento\n \"bs_ln_nm\",         # Dejaremos `bs_ln_nm` por contener más información\n \"thp_required_3g\",  # Demasiados valores faltantes\n \"time_lte\",         # Demasiados valores faltantes,\n \"bs_ln_cd\",         # Feature no informativo\n \"nps_mdll\",         # Genera fuga de datos,\n \"bts_sh_nm_1\",      # Mejor usar bts_sh_nam\n \"cell_load_lte\"     # La métrica time_cl y time_lte son mejores\n )"
  },
  {
    "objectID": "data-prep.html#data-cleaning",
    "href": "data-prep.html#data-cleaning",
    "title": "5  Data prep",
    "section": "5.2 Data cleaning",
    "text": "5.2 Data cleaning\nA continuación se realiza la primera operación de impieza y transformación en el dataframe diag_00, almacenando el resultado en un nuevo dataframe llamado diag_01.\n\ndiag_01 &lt;- diag_00 |&gt;\n select(\n  where(\n1   \\(x) length(unique(x)) != 1 &&\n2   mean(is.na(x)) &lt; 0.5),\n3  -all_of(cols_to_remove)\n ) |&gt;\n mutate(\n4  across(fct_srvy_dt, \\(fecha) ymd(fecha)),\n5  across(where(is.character), \\(col) estandarizar_columnas(col)),\n  across(msisdn_dd:srvy_id, as.integer)\n ) |&gt;\n relocate(fct_srvy_dt, msisdn_dd, srvy_id)\n\n\n1\n\nQuitar columnas que tengan un solo valor único (constante).\n\n2\n\nQuitar columnas que tengan más del 50% de valores perdidos (NA).\n\n3\n\nEliminar columnas innecesarias validadas por el equipo de CTL (Close The Loop).\n\n4\n\nConvertir la columna fct_srvy_dt a tipo fecha.\n\n5\n\nLa función estandarizar_columnas() convierte a mayúscula y elimina espacios en blanco."
  },
  {
    "objectID": "data-prep.html#centinelas",
    "href": "data-prep.html#centinelas",
    "title": "5  Data prep",
    "section": "5.3 Centinelas",
    "text": "5.3 Centinelas\nUn valor centinela es un valor especial en el contexto de programación y análisis de datos que se utiliza para indicar una condición como un error, un valor no definido, el final de una lista, entre otros. En el análisis de datos, los valores centinela suelen ser cadenas de texto como “NA”, “TBD” (To Be Determined), “UNKNOWN”, etc., que no tienen un significado numérico pero sirven para indicar que la información no está disponible o aún no se ha decidido.\n\n\n\n\nTable 5.1: Cantidad de centinelas.\n\n\nfeature\ntbds\n\n\n\n\ntrrtry_tf_nm\n3014\n\n\ntrrtry_cmrcl_nm\n3014\n\n\ncty_nm\n451\n\n\nstt_nm\n12\n\n\nclass_desc\n0\n\n\ndiag\n0\n\n\n\n\n\n\nA continuación, realizaremos el reemplazo de los valores centinelas identificados, completando con esta operación la codificación explícita de los mismos en valores perdidos o NAs\n\ndiag_02 &lt;- diag_01 |&gt;\n arrange(fct_srvy_dt, msisdn_dd, srvy_id) |&gt;\n mutate(\n  across(where(is.character), \\(x) na_if(x, \"TBD\")),\n  across(where(is.character), \\(x) na_if(x, \"TO_BE_DETERMINED\")))\n\n\n\n\n\nTable 5.2: Centinelas restantes.\n\n\nfeature\ntbds\n\n\n\n\nclass_desc\n0\n\n\ntrrtry_tf_nm\n0\n\n\ntrrtry_cmrcl_nm\n0\n\n\nstt_nm\n0\n\n\ncty_nm\n0\n\n\ndiag\n0\n\n\n\n\n\n\nEn la tabla Table 5.2 vemos que se han reemplazado correctamente todos los los valores centinelas."
  },
  {
    "objectID": "data-prep.html#colapso-respuesta",
    "href": "data-prep.html#colapso-respuesta",
    "title": "5  Data prep",
    "section": "5.4 Colapso respuesta",
    "text": "5.4 Colapso respuesta\n\n\nMostrar Código\ndiag_02 |&gt;\n tabyl(diag) |&gt;\n arrange(desc(n)) |&gt;\n adorn_pct_formatting() |&gt; \n gt() |&gt; \n gt_theme_538() |&gt; \n cols_align(align = \"center\", columns = where(~ is.numeric(.x)))\n\n\n\n\n\nTable 5.3:  Categorías Iniciales \n  \n    \n    \n      diag\n      n\n      percent\n    \n  \n  \n    NO_DIAG\n64588\n88.9%\n    CAPACIDAD\n2108\n2.9%\n    OPTIMIZACION\n1322\n1.8%\n    DISPONIBILIDAD\n989\n1.4%\n    COBERTURA\n987\n1.4%\n    NO_TECNICO\n830\n1.1%\n    TRANSMISION\n663\n0.9%\n    HOME\n352\n0.5%\n    FORCING\n282\n0.4%\n    ENCUESTA\n252\n0.3%\n    EQUIPO\n241\n0.3%\n    OTROS_TECNICOS\n30\n0.0%\n  \n  \n  \n\n\n\n\n\nSe observa en la tabla Table 5.3 las categorías iniciales con las que cuenta el set de datos.\n\n\nCódigo\ndiag_02 |&gt;\n filter(diag == \"NO_DIAG\") |&gt;\n barra(x = class_desc) +\n theme(legend.position = \"none\") +\n labs(title = \"Class Description en etiqueta no-diag\")\n\n\n\n\n\nFigure 5.1: Distribución de las clases en categoría NO-DIAG\n\n\n\n\nEn la figura Figure 5.1 se ve que la la clase predominante llamada NO_DIAG presenta una distribución de descripción de clases en la que los promotores son la mayoría. Es importante entonces, con el fin de poder contar con una clase que genere el mayor contraste posible con las categoría de diagnóstico de detractores, seleccionar únicamente promotores para esta clase.\nDefinamos entonces las categorías de diagnóstico que quedarán finalmente. La selección se realizó con base a la cantidad de observaciones disponibles.\n\netiquetas &lt;- c(\n \"CAPACIDAD\",\n \"OPTIMIZACION\",\n \"COBERTURA\",\n \"DISPONIBILIDAD\",\n \"NO_DIAG\")\n\n\nset.seed(2023)\n\n\ndiag_03 &lt;- diag_02 |&gt;\n1 filter(diag %in% etiquetas) |&gt;\n2 split(~ diag) |&gt;\n3 map_at(\"NO_DIAG\", \\(df) df |&gt;\n4  filter(class_desc == \"PROMOTOR\") |&gt;\n5  drop_na() |&gt;\n6  slice_sample(n = 1800) |&gt;\n7  distinct(msisdn_dd, .keep_all = TRUE)) |&gt;\n8 list_rbind() |&gt;\n mutate(\n across(diag,\n9  \\(x) case_match(x, \"NO_DIAG\" ~ \"PROMOTOR\", .default = diag))) |&gt;\n10 select(-class_desc) |&gt;\n11 distinct(msisdn_dd, srvy_id, .keep_all = TRUE)\n\n\n1\n\nDejar únicamente las etiquetas seleccionadas por los SME\n\n2\n\nDividir el dataframe en una lista de dataframes según los valores únicos de la columna diag\n\n3\n\nModificar únicamente el datraframe de la lista que contiene la etiqueta NO_DIAG.\n\n4\n\nAplicar un filtro al dataframe NO_DIAG para que solo queden los promotores.\n\n5\n\nEliminar todos los valores perdidos de este dataframe.\n\n6\n\nTomar una muestra aleatoria de 1800 observaciones.\n\n7\n\nGarantizar que solo queden usuarios únicos con una sola encuesta.\n\n8\n\nUnir la lista en un único dataframe\n\n9\n\nCambiar la etiqueta NO_DIAG por PROMOTOR.\n\n10\n\nRemover la columna class_desc ya que puede causar data leakage.\n\n11\n\nRemover duplicados, dejando únicamente un usuario y una encuesta única.\n\n\n\n\nLa tabla ?tbl-diagnostico muestra los primeros cinco registros y la totalidad de sus columnas."
  },
  {
    "objectID": "data-prep.html#métricas",
    "href": "data-prep.html#métricas",
    "title": "5  Data prep",
    "section": "5.5 Métricas",
    "text": "5.5 Métricas\n\nmetr_01 &lt;- metr_00 |&gt;\n mutate(across(fct_srvy_dt, ymd)) |&gt;\n relocate(fct_srvy_dt, msisdn_dd, srvy_id, r1, bts_sh_nm) |&gt;\n arrange(fct_srvy_dt, msisdn_dd) |&gt;\n select(-c(cell_load, service_drop_rate))"
  },
  {
    "objectID": "data-prep.html#disponibilidad",
    "href": "data-prep.html#disponibilidad",
    "title": "5  Data prep",
    "section": "5.6 Disponibilidad",
    "text": "5.6 Disponibilidad\nLa tabla disponibilidad contiene valores negativos, los cuales son incorrectos para estas métricas. Es necesario convertir estos valores a NA de manera explícita.\n\ndisp_01 &lt;- disp_00 |&gt; \n mutate(across(everything(), \\(x) na_if(x, -1))) |&gt; \n select(-time_thrgpt)"
  },
  {
    "objectID": "data-prep.html#unión",
    "href": "data-prep.html#unión",
    "title": "5  Data prep",
    "section": "5.7 Unión",
    "text": "5.7 Unión\nPara la unión utilizaremos una llave compuesta por el número de teléfono del usuario representado por la variable msisdn_dd y el número de encuesta srvy_id.\nLa primera unión a realizar es entre las métricas de red y la disponibilidad\n\nctl_00 &lt;- metr_01 |&gt;\n inner_join(disp_01, join_by(msisdn_dd, srvy_id))\n\nLa siguiente unión será contra la tabla maestra diag_03. Posteriormente aplicaremos transformaciones relacionadas a la posición de las columnas y convertir a tipo entero las variables identificadoras.\n\nctl_01 &lt;- diag_03 |&gt;\n inner_join(ctl_00, join_by(msisdn_dd, srvy_id, fct_srvy_dt)) |&gt;\n relocate(diag, .after = last_col()) |&gt;\n select(-r1) |&gt;\n mutate(across(c(msisdn_dd, srvy_id), as.integer))"
  },
  {
    "objectID": "eda.html#estructura",
    "href": "eda.html#estructura",
    "title": "6  EDA",
    "section": "6.1 Estructura",
    "text": "6.1 Estructura\nEl proceso de preparación y limpieza dió como resultado un único set de datos, el cual consta de 26559 filas y 35 columnas.\n\nctl_01 |&gt; glimpse(width = 71)\n#&gt; Rows: 26,559\n#&gt; Columns: 35\n#&gt; $ fct_srvy_dt            &lt;date&gt; 2022-01-01, 2022-01-01, 2022-01-01, 2…\n#&gt; $ msisdn_dd              &lt;int&gt; 48770669, 48770669, 48770669, 48770669…\n#&gt; $ srvy_id                &lt;int&gt; 541309979, 541309979, 541309979, 54130…\n#&gt; $ trrtry_tf_nm           &lt;chr&gt; \"NOR_ORIENTE\", \"NOR_ORIENTE\", \"NOR_ORI…\n#&gt; $ trrtry_cmrcl_nm        &lt;chr&gt; \"ORIENTE\", \"ORIENTE\", \"ORIENTE\", \"ORIE…\n#&gt; $ stt_nm                 &lt;chr&gt; \"IZABAL\", \"IZABAL\", \"IZABAL\", \"IZABAL\"…\n#&gt; $ cty_nm                 &lt;chr&gt; \"EL_ESTOR\", \"EL_ESTOR\", \"EL_ESTOR\", \"E…\n#&gt; $ thp_required_lte       &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…\n#&gt; $ bts_sh_nm              &lt;chr&gt; \"LIZB039B\", \"LGUA165C\", \"LGUA165J\", \"L…\n#&gt; $ cll_prctg              &lt;dbl&gt; 0.346619192, 0.097322720, 0.108952417,…\n#&gt; $ rate_prb_dl            &lt;dbl&gt; 0.99124, 0.56140, 0.41380, 0.89256, 0.…\n#&gt; $ rrc_success_rate       &lt;dbl&gt; 0.9955466, 0.9993186, 0.9987815, 0.997…\n#&gt; $ erab_success_rate      &lt;dbl&gt; 0.9954686, 0.9994823, 0.9989230, 0.995…\n#&gt; $ l_ul_interference_avg  &lt;dbl&gt; -116, -109, -116, -104, -118, -110, -1…\n#&gt; $ thoughput_dl           &lt;dbl&gt; 796.8668, 8419.5650, 7635.8684, 2476.5…\n#&gt; $ thpughput_ul           &lt;dbl&gt; 247.27017, 766.74849, 371.89887, 262.7…\n#&gt; $ corrected_cqi          &lt;dbl&gt; 8, 11, 11, 11, 10, 11, 7, 10, 11, 10, …\n#&gt; $ ra_ta_ue_index1        &lt;dbl&gt; 0.005732344, 0.256282051, 0.276476101,…\n#&gt; $ ra_ta_ue_index2        &lt;dbl&gt; 0.031614350, 0.613306882, 0.535770072,…\n#&gt; $ ra_ta_ue_index3        &lt;dbl&gt; 0.143104150, 0.090416944, 0.127476314,…\n#&gt; $ ra_ta_ue_index4        &lt;dbl&gt; 0.309353215, 0.004202448, 0.010693721,…\n#&gt; $ ra_ta_ue_index5        &lt;dbl&gt; 0.131959911, 0.000000000, 0.000000000,…\n#&gt; $ ra_ta_ue_index6        &lt;dbl&gt; 0.321787709, 0.000000000, 0.000000000,…\n#&gt; $ ra_ta_ue_index7        &lt;dbl&gt; 0.056191723, 0.000000000, 0.000000000,…\n#&gt; $ ra_ta_ue_total         &lt;dbl&gt; 11774, 6688, 2571, 19204, 2566, 5228, …\n#&gt; $ volte_erlang           &lt;dbl&gt; 12.8858889, 12.1652778, 0.1143056, 16.…\n#&gt; $ modulation_64qam_ratio &lt;dbl&gt; 0.24526090, 0.65148499, 0.69274165, 0.…\n#&gt; $ modulation_16qam_ratio &lt;dbl&gt; 0.4926279, 0.2451231, 0.2429123, 0.230…\n#&gt; $ modulation_qpsk_ratio  &lt;dbl&gt; 0.25203057, 0.09255258, 0.06352240, 0.…\n#&gt; $ time_cl                &lt;dbl&gt; 0.7520931, 0.7520931, 0.7520931, 0.752…\n#&gt; $ time_lte               &lt;dbl&gt; 0.9640478, 0.9640478, 0.9640478, 0.964…\n#&gt; $ avlblty                &lt;dbl&gt; 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,…\n#&gt; $ avlblty_tckt_2hrs      &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,…\n#&gt; $ unvlblty_ttl_hrs_prop  &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,…\n#&gt; $ diag                   &lt;chr&gt; \"CAPACIDAD\", \"CAPACIDAD\", \"CAPACIDAD\",…\n\n\n\nMostrar Código\nctl_01 |&gt; \n slice_head(n = 5) |&gt; \n gt() |&gt; \n tab_header(\n    title = md(\"**Muestra Aleatoria - CTL**\"),\n    subtitle = md(\"Tabla principal\")\n  ) |&gt; \n gt_theme_538() |&gt; \n fmt_number(columns = cll_prctg:last_col(), decimals = 2) |&gt; \n cols_align_decimal() |&gt; \n cols_align(align = \"center\", columns = where(~ is.numeric(.x))) |&gt; \n tab_footnote(\n  footnote = md(\"Cada usuario tiene el top 5 celdas a las que más se conecta\"),\n  locations = cells_body(columns = bts_sh_nm, rows = 1)) \n#&gt; Warning in max(nchar(x_lhs)): no non-missing arguments to max; returning\n#&gt; -Inf\n#&gt; Warning in max(nchar(x_rhs)): no non-missing arguments to max; returning\n#&gt; -Inf\n\n\n\n\n\nTable 6.1:  ctl \n  \n    \n      Muestra Aleatoria - CTL\n    \n    \n      Tabla principal\n    \n    \n      fct_srvy_dt\n      msisdn_dd\n      srvy_id\n      trrtry_tf_nm\n      trrtry_cmrcl_nm\n      stt_nm\n      cty_nm\n      thp_required_lte\n      bts_sh_nm\n      cll_prctg\n      rate_prb_dl\n      rrc_success_rate\n      erab_success_rate\n      l_ul_interference_avg\n      thoughput_dl\n      thpughput_ul\n      corrected_cqi\n      ra_ta_ue_index1\n      ra_ta_ue_index2\n      ra_ta_ue_index3\n      ra_ta_ue_index4\n      ra_ta_ue_index5\n      ra_ta_ue_index6\n      ra_ta_ue_index7\n      ra_ta_ue_total\n      volte_erlang\n      modulation_64qam_ratio\n      modulation_16qam_ratio\n      modulation_qpsk_ratio\n      time_cl\n      time_lte\n      avlblty\n      avlblty_tckt_2hrs\n      unvlblty_ttl_hrs_prop\n      diag\n    \n  \n  \n    2022-01-01\n48770669 \n541309979 \nNOR_ORIENTE\nORIENTE\nIZABAL\nEL_ESTOR\nNA\nLIZB039B1\n0.35\n0.99\n1.00\n1.00\n−116.00\n   796.87\n247.27\n 8.00\n0.01\n0.03\n0.14\n0.31\n0.13\n0.32\n0.06\n11,774.00\n12.89\n0.25\n0.49\n0.25\n0.75\n0.96\n1.00\n0.00\n0.00\nCAPACIDAD\n    2022-01-01\n48770669 \n541309979 \nNOR_ORIENTE\nORIENTE\nIZABAL\nEL_ESTOR\nNA\nLGUA165C\n0.10\n0.56\n1.00\n1.00\n−109.00\n 8,419.57\n766.75\n11.00\n0.26\n0.61\n0.09\n0.00\n0.00\n0.00\n0.00\n 6,688.00\n12.17\n0.65\n0.25\n0.09\n0.75\n0.96\n1.00\n0.00\n0.00\nCAPACIDAD\n    2022-01-01\n48770669 \n541309979 \nNOR_ORIENTE\nORIENTE\nIZABAL\nEL_ESTOR\nNA\nLGUA165J\n0.11\n0.41\n1.00\n1.00\n−116.00\n 7,635.87\n371.90\n11.00\n0.28\n0.54\n0.13\n0.01\n0.00\n0.00\n0.00\n 2,571.00\n 0.11\n0.69\n0.24\n0.06\n0.75\n0.96\n1.00\n0.00\n0.00\nCAPACIDAD\n    2022-01-01\n48770669 \n541309979 \nNOR_ORIENTE\nORIENTE\nIZABAL\nEL_ESTOR\nNA\nLGUA242D\n0.12\n0.89\n1.00\n1.00\n−104.00\n 2,476.57\n262.75\n11.00\n0.41\n0.50\n0.04\n0.00\n0.00\n0.00\n0.00\n19,204.00\n16.30\n0.67\n0.23\n0.11\n0.75\n0.96\n1.00\n0.00\n0.00\nCAPACIDAD\n    2022-01-01\n48770669 \n541309979 \nNOR_ORIENTE\nORIENTE\nIZABAL\nEL_ESTOR\nNA\nHIZB039D\n0.06\n0.49\n1.00\n1.00\n−118.00\n10,559.42\n365.25\n10.00\n0.07\n0.24\n0.40\n0.13\n0.04\n0.03\n0.08\n 2,566.00\n 0.24\n0.61\n0.32\n0.08\n0.75\n0.96\n1.00\n0.00\n0.00\nCAPACIDAD\n  \n  \n  \n    \n      1 Cada usuario tiene el top 5 celdas a las que más se conecta\n    \n  \n\n\n\n\n\n\n\nCódigo\nplot_intro(\n ctl_01,ggtheme = yunkel,\n title = \"Resumen Descriptivo\",\n geom_label_args = list(label.size = 0.8, size = 7),\n theme_config = list(\n axis.text = element_text(size = 40)))\n\n\n\n\n\nFigure 6.1: Se puede apreciar que la gran mayoría de las columnas están completas. Un 80% son features de tipo continuo y el restante son de tipo categórico. Se requiere explorar los valores faltantes con mayor detalle."
  },
  {
    "objectID": "eda.html#medidas-repetidas",
    "href": "eda.html#medidas-repetidas",
    "title": "6  EDA",
    "section": "6.2 Medidas repetidas",
    "text": "6.2 Medidas repetidas\n\n\nCódigo\nctl_01 |&gt;\n get_dupes(msisdn_dd) |&gt; \n head(5) |&gt; \n select(\n  fct_srvy_dt, msisdn_dd, srvy_id, bts_sh_nm) |&gt; \n gt() |&gt; \n tab_header(\n  title = md(\"**Datos de Perfil**\"),\n    subtitle = md(\"Medidas repetidas\")\n  ) |&gt; \n gt_theme_538()\n\n\n\n\n\nTable 6.2:  Valores repetidos \n  \n    \n      Datos de Perfil\n    \n    \n      Medidas repetidas\n    \n    \n      fct_srvy_dt\n      msisdn_dd\n      srvy_id\n      bts_sh_nm\n    \n  \n  \n    2022-07-01\n30132206\n631833809\nLSRS018C\n    2022-07-01\n30132206\n631833809\nLGUA418B\n    2022-07-01\n30132206\n631833809\nOSRS018C\n    2022-07-01\n30132206\n631833809\nLGUA234A\n    2022-07-01\n30132206\n631833809\nLGUA234H\n  \n  \n  \n\n\n\n\n\nEn la tabla Table 6.2 vemos que el identificador único (número de celular del usuario) se repite, debido a que contamos con datos de perfil"
  },
  {
    "objectID": "eda.html#valores-faltantes",
    "href": "eda.html#valores-faltantes",
    "title": "6  EDA",
    "section": "6.3 Valores faltantes",
    "text": "6.3 Valores faltantes\n\n\nCódigo\nplot_missing(ctl_01, missing_only = TRUE,\n ggtheme = yunkel,\n title = \"Valores Faltantes\",\n geom_label_args = list(label.size = 0.8, size = 8),\n theme_config = list(\n  axis.text = element_text(size = 40)))\n\n\n\n\n\nFigure 6.2: La mayor cantidad de valores perdidos se encuentra en la columna thp_required_lte. Dependiendo de la distribución de los mismos será posible aplicar técnicas de imputación en la fase de preprocesamiento"
  },
  {
    "objectID": "eda.html#resumen-estadístico",
    "href": "eda.html#resumen-estadístico",
    "title": "6  EDA",
    "section": "6.4 Resumen estadístico",
    "text": "6.4 Resumen estadístico\n\n# crear set de datos solo con variables numéricas\nctl_n &lt;- ctl_01 |&gt;\n select(where(is.numeric), -c(msisdn_dd, srvy_id))\n\n\n\n\nMostrar Código\nctl_n |&gt; \n resumir() |&gt; \n gt() |&gt; \n # tab_header(\n #  title = md(\"**Resumen Estadístico**\"),\n #    subtitle = md(\"para *features* Numéricos\")\n # ) |&gt; \n gt_theme_538() |&gt; \n cols_align(align = \"center\", columns = where(~ is.numeric(.x))) |&gt; \n fmt_number(columns = where(is.numeric), decimals = 2)\n\n\n\n\n\nTable 6.3:  Resumen estadístico \n  \n    \n    \n      variable\n      media\n      mediana\n      maximo\n      minimo\n      sd\n    \n  \n  \n    thp_required_lte\n0.92\n1.00\n1.00\n0.00\n0.19\n    cll_prctg\n0.16\n0.09\n1.00\n0.00\n0.17\n    rate_prb_dl\n0.65\n0.73\n1.00\n0.00\n0.29\n    rrc_success_rate\n0.91\n1.00\n1.00\n0.00\n0.29\n    erab_success_rate\n0.91\n1.00\n1.00\n0.00\n0.29\n    l_ul_interference_avg\n−102.47\n−113.00\n0.00\n−122.00\n32.76\n    thoughput_dl\n5,711.13\n4,324.52\n87,106.82\n0.00\n5,679.44\n    thpughput_ul\n684.19\n541.29\n5,118.24\n0.00\n592.48\n    corrected_cqi\n9.22\n10.00\n15.00\n0.00\n3.23\n    ra_ta_ue_index1\n0.15\n0.08\n0.88\n0.00\n0.18\n    ra_ta_ue_index2\n0.25\n0.23\n1.00\n0.00\n0.22\n    ra_ta_ue_index3\n0.17\n0.12\n0.94\n0.00\n0.17\n    ra_ta_ue_index4\n0.13\n0.05\n0.99\n0.00\n0.17\n    ra_ta_ue_index5\n0.08\n0.01\n0.99\n0.00\n0.14\n    ra_ta_ue_index6\n0.05\n0.00\n0.96\n0.00\n0.11\n    ra_ta_ue_index7\n0.04\n0.00\n0.94\n0.00\n0.10\n    ra_ta_ue_total\n7,606.28\n5,831.00\n231,144.00\n0.00\n7,715.21\n    volte_erlang\n3.09\n0.90\n45.89\n0.00\n4.49\n    modulation_64qam_ratio\n0.52\n0.56\n0.98\n0.00\n0.24\n    modulation_16qam_ratio\n0.25\n0.27\n0.58\n0.00\n0.12\n    modulation_qpsk_ratio\n0.14\n0.11\n0.85\n0.00\n0.12\n    time_cl\n0.90\n0.97\n1.00\n0.00\n0.16\n    time_lte\n0.92\n0.98\n1.00\n0.00\n0.15\n    avlblty\n1.00\n1.00\n1.00\n0.08\n0.03\n    avlblty_tckt_2hrs\n0.03\n0.00\n1.00\n0.00\n0.08\n    unvlblty_ttl_hrs_prop\n40.83\n3.04\n5,185.17\n0.00\n172.22\n  \n  \n  \n\n\n\n\n\nEn Table 6.3 se observa que hay valores atípicos en algunas observaciones. Los valores mínimos con valor cero para algunas variables ameritan atención."
  },
  {
    "objectID": "eda.html#variable-dependiente",
    "href": "eda.html#variable-dependiente",
    "title": "6  EDA",
    "section": "6.5 Variable dependiente",
    "text": "6.5 Variable dependiente\nUno de los primeros pasos del proceso de análisis exploratorios cuando el propósito final es predecir una respuesta es crear visualizaciones que ayuden a dilucidar el conocimiento de la respuesta y luego descubrir relaciones entre los predictores y la respuesta (Kuhn and Johnson 2020).\n\n\nCódigo\nctl_01 |&gt; \n barra(diag) +\n theme(legend.position = \"none\") +\n labs(title = \"Clasificación variable politómica\")\n\n\n\n\n\nFigure 6.3: Distribución de la variable dependiente\n\n\n\n\n\n\n\n\nKuhn, Max, and Kjell Johnson. 2020. Feature Engineering and Selection: A Practical Approach for Predictive Models. Chapman & Hall/CRC Data Science Series. Boca Raton London New York: CRC Press, Taylor & Francis Group."
  },
  {
    "objectID": "summary.html",
    "href": "summary.html",
    "title": "13  Summary",
    "section": "",
    "text": "In summary, this book has no content whatsoever.\n\n1 + 1\n\n[1] 2"
  },
  {
    "objectID": "references.html",
    "href": "references.html",
    "title": "References",
    "section": "",
    "text": "Kuhn, Max, and Kjell Johnson. 2020. Feature Engineering and\nSelection: A Practical Approach for Predictive Models. Chapman\n& Hall/CRC Data Science Series. Boca Raton\nLondon New York: CRC Press, Taylor & Francis Group."
  }
]